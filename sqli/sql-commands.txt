# SETUP

CREATE USER 'dbuser'@'localhost' IDENTIFIED BY 'dbpassword';
GRANT ALL PRIVILEGES ON * . * TO 'dbuser'@'localhost';
CREATE DATABASE dbdemo;

CREATE TABLE login (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(30) NOT NULL,
password VARCHAR(30) NOT NULL);

username VARCHAR(30) UNIQUE NOT NULL,

CREATE USER 'dbuser'@'localhost' IDENTIFIED BY 'dbpassword';
GRANT ALL PRIVILEGES ON * . * TO 'dbuser'@'localhost';

INSERT INTO login(username, password) values('Peter', 'Pan');
INSERT INTO login(username, password) values('Jack', 'Smith');
INSERT INTO login(username, password) values('admin', '0607a6e6c275003c9e6251424da0937720e7f966');


# ENUMERATION
## list databases
SELECT schema_name FROM information_schema.schemata;
## list tables fo schema
SELECT table_schema,table_name FROM information_schema.tables WHERE table_schema = 'test';
## list columns (acutaly lists DB, table, columns, use ist with != information_scheme)
SELECT table_schema, table_name, column_name FROM information_schema.columns WHERE table_schema = 'test'  AND table_name = 'login';

## list permissions
SELECT grantee, privilege_type, is_grantable FROM information_schema.user_privileges;
SELECT table_schema, privilege_type FROM information_schema.schema_privileges;      # may be empty


mysql> select * from login;
+----+----------+----------+
| id | username | password |
+----+----------+----------+
|  1 | Peter    | Pan      |
|  2 | Jack     | Smith    |
+----+----------+----------+
2 rows in set (0,00 sec)

mysql> select concat(id,username,password) from login;
+------------------------------+
| concat(id,username,password) |
+------------------------------+
| 1PeterPan                    |
| 2JackSmith                   |
+------------------------------+
2 rows in set (0,00 sec)

mysql> select group_concat(id,username,password) from login;
+------------------------------------+
| group_concat(id,username,password) |
+------------------------------------+
| 1PeterPan,2JackSmith               |
+------------------------------------+
1 row in set (0,00 sec)

select group_concat(id, ' ', username, 0x3a, password)
