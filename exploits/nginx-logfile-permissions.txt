peter@deb-test:~$ ln -s /etc/myfile forroot
peter@deb-test:~$ ls -lah ~
lrwxrwxrwx 1 peter peter   11 Nov 19 11:37 forroot -> /etc/myfile

beide Dateien gibt es nicht. Schreibt root nach /home/peter/forroot schreibt er in /etc/myfile


root@deb-test:~# echo 123 > /home/peter/forroot 
root@deb-test:~# ls -l /etc/myfile 
-rw-r--r-- 1 root root 4 Nov 19 11:38 /etc/myfile <-- äh eig. sollte peter owner sein (ist in der demo auch so)

ld.so.preload: Durch whitespace getrennte liste mit shared libraries, die wie LD_PRELOAD vorher geladen werden (nur da funktioniert setuid bit)

In /tmp funktioniert das aber nicht...

peter gehört der Ordner abc. Root schreibt Datei aaaaaa in den Ordner abc. peter kann die Datei aaaaa von Root löchen (ohne others w)

bash als payload tut nicht:
- schaut ob uid = euid
- wenn nicht schmeißt es die power weg
-> /bin/sh nutzen

Links:
http://legalhackers.com/advisories/Nginx-Exploit-Deb-Root-PrivEsc-CVE-2016-1247.html
